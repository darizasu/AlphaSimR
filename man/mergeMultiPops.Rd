% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mergePops.R
\name{mergeMultiPops}
\alias{mergeMultiPops}
\title{Merge Pop and MultiPop objects}
\usage{
mergeMultiPops(..., level = 0)
}
\arguments{
\item{...}{\code{\link{Pop-class}} or \code{\link{MultiPop-class}} objects;
\code{NULL} values are ignored.}

\item{level}{Integer scalar >= 0 to merge at a sepecific level of nesting;
see Details.}
}
\value{
If \code{level == 0}, or when merging yields a single \code{Pop},
a \code{\link{Pop-class}} object is returned. Otherwise a
\code{\link{MultiPop-class}} object is returned with the requested level of
nesting preserved.
}
\description{
Merge one or more \code{\link{Pop-class}} and \code{\link{MultiPop-class}}
objects. Because a \code{MultiPop} can have a nested structure
merging is controlled by the \code{level} argument (see Details).
}
\details{
The function accepts multiple inputs and merges them according to the
\code{level} argument.
\code{level = 0}: merge all \code{Pop} objects in the inputs into a single
  \code{Pop} object (the inputs are first completely flattened then merged).
\code{level = 1}: merge inputs into a \code{MultiPop} so that each item is a
  \code{Pop} (level 1). Each input is first flattened to level 1 and its
  \code{Pop} objects merged into one \code{Pop}, and then all these \code{Pop}
  objects are merged into a single \code{MultiPop}
\code{level > 1}: merge inputs into a \code{MultiPop} while preserving top
  \code{level} structure. Each input is first flattened to the requested
  \code{level} and its items merged into a single \code{MultiPop}, and then
  inputs are merged.

Important behavioral notes: If a single \code{Pop} is provided, it
is returned unchanged. If a single \code{MultiPop} is provided, it
is processed according to \code{level}. If multiple objects are provided,
they are combined into a \code{MultiPop} (preserving the order of inputs)
and then processed according to \code{level}. If neither of the multiple inputs
is a \code{MultiPop}, an error is raised. An error is also raised if inputs
are not a \code{Pop} or a \code{MultiPop}. \code{NULL} inputs are ignored.
}
\examples{
# Create founder haplotypes
founderPop = quickHaplo(nInd=11, nChr=1, segSites=10)

# Set simulation parameters
SP = SimParam$new(founderPop)
\dontshow{SP$nThreads = 1L}

# Create population
pop = newPop(founderPop, simParam=SP)

# Create two multi-population with different levels of nesting
mp1 = newMultiPop(pop[1:2], pop[3:5])
mp1
mp2 = newMultiPop(pop[6:7],
                  newMultiPop(pop[8:10], pop[11]))
mp2

# Fully merge all Pops in inputs into one Pop
mergeMultiPops(mp1[[1]]) # nothing happens with a single Pop
mergeMultiPops(mp1)
mergeMultiPops(mp1, mp2)

# Merge into a MultiPop where each level 1 item is a Pop
mergeMultiPops(mp1[[1]], level=1) # nothing happens with a single Pop
mergeMultiPops(mp1, level=1)
mergeMultiPops(mp1, mp2[[1]], level=1)
mergeMultiPops(mp2, level=1)
mergeMultiPops(mp1, mp2, level=1)

# Merge into a MultiPop and preserve level 1 and 2 structure
mergeMultiPops(mp2, level=2)
mergeMultiPops(mp2, mp1, level=2)
mergeMultiPops(mp2, mp1[[1]], level=2)

}
\seealso{
\code{\link{MultiPop-class}}, \code{\link{flattenMultiPop}}, and
  \code{\link{mergePops}}
}
