% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mergePops.R
\name{flattenMultiPop}
\alias{flattenMultiPop}
\title{Flatten a MultiPop object to a specified depth}
\usage{
flattenMultiPop(x, level = 1)
}
\arguments{
\item{x}{A \code{\link{Pop-class}} or \code{\link{MultiPop-class}} object.}

\item{level}{Integer scalar >= 1. Number of \code{MultiPop} levels to
preserve.}
}
\value{
If \code{x} is a \code{\link{Pop-class}}, the same \code{x}
object is returned. Otherwise a \code{\link{MultiPop-class}} is returned
whose \code{x@pops} slot contains \code{\link{Pop-class}} (and possibly
\code{\link{MultiPop-class}}) objects flattened according to \code{level}.
}
\description{
Recursively flatten a \code{\link{MultiPop-class}} object into a shallower
\code{MultiPop} containing only \code{\link{Pop-class}} objects
down to a requested level (see Details).
}
\details{
The \code{level} argument controls how many levels of nesting are preserved.
\code{level = 1}: flatten structure of \code{MultiPop-class} so that
  all items are \code{Pop-class} objects (that is, flatten everything
  below the top level).
\code{level > 1}: preserve the top \code{level} levels of nesting; any
  deeper \code{MultiPop-class} objects are flattened.

If \code{level} is greater than or equal to the nesting depth, the original
object is returned unchanged.
}
\examples{
# Create founder haplotypes
founderPop = quickHaplo(nInd=12, nChr=1, segSites=10)

# Set simulation parameters
SP = SimParam$new(founderPop)
\dontshow{SP$nThreads = 1L}
SP$addTraitA(5)

# Create population
pop = newPop(founderPop, simParam=SP)

# Create a multi-population with down to level 3 nesting
mp_nested = newMultiPop(pop[1:2],
                        newMultiPop(pop[3:4],
                                    newMultiPop(pop[5:7], pop[8:12])))
mp_nested

# Completely flatten to a single top-level MultiPop
flattenMultiPop(mp_nested)

# Preserve two levels of nesting
flattenMultiPop(mp_nested, level=2)

}
\seealso{
\code{\link{newMultiPop}}, \code{\link{mergePops}},
  \code{\link{mergeMultiPops}}
}
