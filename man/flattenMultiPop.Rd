% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mergePops.R
\name{flattenMultiPop}
\alias{flattenMultiPop}
\title{Flatten a MultiPop object to a specified depth}
\usage{
flattenMultiPop(pop, level = 1)
}
\arguments{
\item{pop}{A \code{\link{Pop-class}} or \code{\link{MultiPop-class}} object.}

\item{level}{Integer scalar >= 1. Number of \code{MultiPop} levels to
preserve.}
}
\value{
If \code{pop} is a \code{\link{Pop-class}}, the same \code{pop} 
object is returned. Otherwise a \code{\link{MultiPop-class}} is returned 
whose \code{pop@pops} slot contains \code{\link{Pop-class}} (and possibly
\code{\link{MultiPop-class}}) objects assembled according to \code{level}.
}
\description{
Recursively flatten a \code{\link{MultiPop-class}} object into a shallower
\code{MultiPop} containing only \code{\link{Pop-class}} objects
up to the requested depth (see Details).
}
\details{
The \code{level} argument controls how many levels of nesting are preserved.
\code{level = 1}: collapse all nested \code{MultiPop-class} objects so that
  all returned children are \code{Pop-class} objects (i.e. flatten everything
  below the top level).
\code{level > 1}: preserve the top \code{level} levels of nesting; any
  deeper \code{MultiPop-class} objects are flattened.

If \code{level} is greater than or equal to the nesting depth, the original
object is returned unchanged.
}
\examples{
\donttest{
# Create founder haplotypes
founderPop = quickHaplo(nInd=50, nChr=1, segSites=10)

# Set simulation parameters
SP = SimParam$new(founderPop)
\dontshow{SP$nThreads = 1L}
SP$addTraitA(5)

# Create population
pop = newPop(founderPop, simParam=SP)

# Create a multi-population with nesting depth (level) 3
mp_nested = newMultiPop(pop[1:10],
                        newMultiPop(pop[11:20],
                                    newMultiPop(pop[21:30], pop[31:40])))

# Completely flatten to a single top-level MultiPop of Pops
mp_flat = flattenMultiPop(mp_nested)
length(mp_flat)         # number of Pop children at top-level

# Preserve two levels of nesting
mp_partial = flattenMultiPop(mp_nested, level=2)
}

}
\seealso{
\code{\link{newMultiPop}}, \code{\link{mergePops}},
  \code{\link{mergeMultiPops}}
}
